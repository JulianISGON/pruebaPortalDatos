serenity {
  project.name = "Automatizacion Portal Enlace"
  test.root = "enlace.screenplay"
  encoding = "UTF-8"

  # Deshabilitar completamente los requerimientos para evitar errores de ruta
  requirements.enabled = false

  # Configuración de credenciales
  enlace {
    url = "https://pruebasportaldatos.enlace.com.co/login"
    usuario = "pruebasqa@enlace.com.co"
    password = "Prueba1234567890*"
  }

  # Configuración de WebDriver
  webdriver {
    driver = chrome
    autodownload = true
    base.url = "https://pruebasportaldatos.enlace.com.co/login"
  }

  # Configuración de reportes
  take.screenshots = FOR_FAILURES
  logging = QUIET
  console.headings = NONE
  verbose.steps = false

  # Timeouts
  timeouts {
    implicitlywait = 10000
    fluentwait = 15000
  }
}

# Configuración de Chrome
webdriver {
  capabilities {
    browserName = "chrome"
    acceptInsecureCerts = false

    "goog:chromeOptions" {
      args = [
        "remote-allow-origins=*",
        "--start-maximized",
        "--disable-infobars",
        "--disable-notifications",
        "--no-sandbox",
        "--disable-dev-shm-usage"
      ]

      prefs {
        # IMPORTANTE: Usa una ruta relativa para descargas o asegúrate que esta ruta exista
        "download.default_directory" = "C:\\Users\\julia\\OneDrive\\Desktop\\julian\\Repositorios\\pruebaPortalDatos\\downloadsCSV"
        "download.prompt_for_download" = false
        "download.directory_upgrade" = true
        "safebrowsing.enabled" = false
      }
    }
  }
}